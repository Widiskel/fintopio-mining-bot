const a3_0x3188f5=a3_0x1a0d;function a3_0x208f(){const _0x3b4fc5=['getQueryFromUrl','init','getEntity','agent','You\x20dont\x20have\x20any\x20Query\x20Account.','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','Enter\x20your\x20Telegram\x20Password?','accountType','disconnect','createDir','storeSession','sessionCreation','195476uDffVf','readQueryFile','warn','Session\x20','text','android','/query.txt','12uTKUqo','accounts','133480tumoQe','initWebView','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','5100080SluzAi','invoke','1885914hioJPG','33922449rpnWxl','exit','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','saveQueryFile','RequestAppWebView','query','Please\x20Enter\x20Telegram\x20Query\x20:\x20','666QNkmYc','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','filter','proxy','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','onBoarding','indexOf','Invalid\x20input,\x20Please\x20try\x20again','length','includes','query-','Query\x20','bot','reflink-reflink_WBqDb0I3vuVe515o-','\x20-\x20Created','sessions-','serverAddress','message','seconds','stringify','useSession','session','peer','8TLhgON','info','7846657stDlZR','Welcome\x20to\x20Fintopio\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','error','\x20-\x20Webview\x20Connected','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','574470jHoCPF','Old\x20Query\x20:\x20','40GcYxhw','Invalid\x20Input','queryModificaiton','queryCreation','<empty>\x0a','4tFHWdR','Your\x20Account\x20List\x20:\x0a\x20\x0a','accountName','TELEGRAM_APP_ID','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','getSession','fintopio','client','delay','log','messages'];a3_0x208f=function(){return _0x3b4fc5;};return a3_0x208f();}(function(_0x37b043,_0x1d6168){const _0xca4139=a3_0x1a0d,_0x42660d=_0x37b043();while(!![]){try{const _0x4678ab=parseInt(_0xca4139(0x142))/0x1*(parseInt(_0xca4139(0x118))/0x2)+-parseInt(_0xca4139(0xf9))/0x3*(-parseInt(_0xca4139(0x128))/0x4)+-parseInt(_0xca4139(0x123))/0x5*(parseInt(_0xca4139(0x121))/0x6)+-parseInt(_0xca4139(0x11a))/0x7+-parseInt(_0xca4139(0xf7))/0x8+parseInt(_0xca4139(0x101))/0x9*(-parseInt(_0xca4139(0xf2))/0xa)+parseInt(_0xca4139(0xfa))/0xb*(parseInt(_0xca4139(0xf0))/0xc);if(_0x4678ab===_0x1d6168)break;else _0x42660d['push'](_0x42660d['shift']());}catch(_0x2059b5){_0x42660d['push'](_0x42660d['shift']());}}}(a3_0x208f,0xefcd4));import a3_0x2c6b20 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x5bf7e3 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a3_0x1a0d(_0x3e0860,_0x542594){const _0x208f03=a3_0x208f();return a3_0x1a0d=function(_0x1a0d41,_0x475ad3){_0x1a0d41=_0x1a0d41-0xeb;let _0x5edecc=_0x208f03[_0x1a0d41];return _0x5edecc;},a3_0x1a0d(_0x3e0860,_0x542594);}export class Telegram{[a3_0x3188f5(0x140)];constructor(){const _0x30478a=a3_0x3188f5;this[_0x30478a(0x12a)]='accounts',this['url']='https://fintopio-tg.fintopio.com/',this[_0x30478a(0x10d)]=_0x30478a(0x131);}async[a3_0x3188f5(0x137)](){const _0x2eeb66=a3_0x3188f5;try{await this[_0x2eeb66(0x106)]();}catch(_0xcb407){console['log'](_0xcb407),a3_0x5bf7e3[_0x2eeb66(0x11e)](''+JSON[_0x2eeb66(0x114)](_0xcb407));throw _0xcb407;}}async[a3_0x3188f5(0x106)](){const _0x3ccd43=a3_0x3188f5;try{let _0x508b31=_0x3ccd43(0x11b);const _0x14b3fc=Helper[_0x3ccd43(0x130)](_0x3ccd43(0xf1));if(_0x14b3fc[_0x3ccd43(0x109)]==0x0)_0x508b31+='<empty>';else for(const _0xaf97ed of _0x14b3fc){_0x508b31+='-\x20'+_0xaf97ed+'\x0a';}_0x508b31+=_0x3ccd43(0x12d),_0x508b31+=_0x3ccd43(0xf5);const _0x12b019=await a3_0x2c6b20['text'](_0x508b31);if(_0x12b019==0x1)await this['accountType']();else{if(_0x12b019==0x2)Helper['resetAccounts'](),await Helper['delay'](0xbb8),await this['onBoarding']();else{if(_0x12b019==0x3)Helper[_0x3ccd43(0x130)](this[_0x3ccd43(0x12a)])?.['length']==0x0&&(console['info']('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this['onBoarding']());else _0x12b019==0x4?await this['queryModificaiton']():(console[_0x3ccd43(0x11e)](_0x3ccd43(0x108)),await this[_0x3ccd43(0x106)]());}}}catch(_0x37b19b){throw _0x37b19b;}}async[a3_0x3188f5(0x125)](){const _0x570a6d=a3_0x3188f5;try{const _0x1c7570=Helper[_0x570a6d(0x130)](_0x570a6d(0xf1)),_0x5a13e2=_0x1c7570[_0x570a6d(0x103)](_0x48f955=>_0x48f955[_0x570a6d(0x10a)](_0x570a6d(0xff)));let _0x28440c=_0x570a6d(0x120);for(const _0x24f202 of _0x5a13e2){_0x28440c+=_0x1c7570[_0x570a6d(0x107)](_0x24f202)+0x1+'.\x20'+_0x24f202+'\x0a';}_0x5a13e2[_0x570a6d(0x109)]==0x0?(console['log'](_0x570a6d(0x13a)),await this['onBoarding']()):_0x28440c+=_0x570a6d(0xf4);const _0x1867ce=await a3_0x2c6b20['text'](_0x28440c);if(_0x5a13e2[_0x1867ce-0x1]!=undefined){const _0x3c6989=_0x5a13e2[_0x1867ce-0x1];this[_0x570a6d(0x12a)]='accounts/'+_0x3c6989;const _0x54258c=_0x570a6d(0x122)+Helper[_0x570a6d(0x143)](this[_0x570a6d(0x12a)]+_0x570a6d(0xef))+_0x570a6d(0xf6),_0x37576e=await a3_0x2c6b20[_0x570a6d(0xed)](_0x54258c);await Helper[_0x570a6d(0xfd)](this[_0x570a6d(0x12a)],_0x37576e),await Helper[_0x570a6d(0x133)](0xbb8),await this[_0x570a6d(0x106)]();}else console[_0x570a6d(0x11e)](_0x570a6d(0x108)),await this[_0x570a6d(0x125)]();}catch(_0x999288){throw _0x999288;}}async[a3_0x3188f5(0x141)](){const _0x1d7324=a3_0x3188f5;try{if(Config[_0x1d7324(0x12b)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x1d7324(0x13b));const _0x5c1a5b=Helper[_0x1d7324(0x130)](_0x1d7324(0xf1));let _0x475001=_0x1d7324(0x129);for(const _0x2ac990 of _0x5c1a5b){_0x475001+=_0x5c1a5b['indexOf'](_0x2ac990)+0x1+'.\x20'+_0x2ac990+'\x0a';}_0x5c1a5b[_0x1d7324(0x109)]==0x0?_0x475001+=_0x1d7324(0x12c):_0x475001+=_0x1d7324(0x11c);const _0x1f858f=await a3_0x2c6b20[_0x1d7324(0xed)](_0x475001);this[_0x1d7324(0x12a)]=Helper[_0x1d7324(0x13f)](_0x1d7324(0x110)+_0x1f858f),await this[_0x1d7324(0x115)](this[_0x1d7324(0x12a)]),await this[_0x1d7324(0x13e)](),a3_0x5bf7e3[_0x1d7324(0x119)](_0x1d7324(0xec)+this[_0x1d7324(0x12a)]+_0x1d7324(0x10f)),console['log']('Session\x20'+_0x1f858f+_0x1d7324(0xfc)),this[_0x1d7324(0x140)]['save'](),await Helper[_0x1d7324(0x133)](0xbb8),process[_0x1d7324(0xfb)]();}catch(_0x1f4892){throw _0x1f4892;}}async[a3_0x3188f5(0x126)](){const _0x184c74=a3_0x3188f5;try{const _0x3df159=Helper['getSession'](_0x184c74(0xf1));let _0x209f15=_0x184c74(0x129);for(const _0x20cb25 of _0x3df159){_0x209f15+=_0x3df159[_0x184c74(0x107)](_0x20cb25)+0x1+'.\x20'+_0x20cb25+'\x0a';}_0x3df159['length']==0x0?_0x209f15+=_0x184c74(0x11d):_0x209f15+=_0x184c74(0x12e);const _0x183fa8=await a3_0x2c6b20['text'](_0x209f15);this[_0x184c74(0x12a)]=Helper[_0x184c74(0x13f)](_0x184c74(0x10b)+_0x183fa8);let _0x5126d3=_0x184c74(0x100);const _0x501966=await a3_0x2c6b20[_0x184c74(0xed)](_0x5126d3);await Helper[_0x184c74(0xfd)](this[_0x184c74(0x12a)],_0x501966),a3_0x5bf7e3[_0x184c74(0x119)](_0x184c74(0x10c)+this['accountName']+_0x184c74(0x10f)),console[_0x184c74(0x134)](_0x184c74(0x10c)+_0x183fa8+_0x184c74(0xfc)),await Helper[_0x184c74(0x133)](0xbb8),process[_0x184c74(0xfb)]();}catch(_0x13ef97){throw _0x13ef97;}}async[a3_0x3188f5(0x13d)](){const _0x16ea21=a3_0x3188f5;try{const _0x2d27e0=Helper['getSession'](_0x16ea21(0xf1));let _0x45a620=_0x16ea21(0x129);if(_0x2d27e0[_0x16ea21(0x109)]>0x0)for(const _0x5ea4e5 of _0x2d27e0){_0x45a620+=_0x2d27e0[_0x16ea21(0x107)](_0x5ea4e5)+0x1+'.\x20'+_0x5ea4e5+'\x0a';}else _0x45a620+=_0x16ea21(0x127);_0x45a620+=_0x16ea21(0x12f);const _0x21190e=await a3_0x2c6b20[_0x16ea21(0xed)](_0x45a620);if(_0x21190e==0x1)await this[_0x16ea21(0x141)]();else _0x21190e==0x2?await this[_0x16ea21(0x126)]():(console[_0x16ea21(0x134)](_0x16ea21(0x124)),await this['accountType']());}catch(_0x2f232e){throw _0x2f232e;}}async[a3_0x3188f5(0x115)](_0x3436a0,_0x2d082f){const _0x1febd2=a3_0x3188f5;try{this[_0x1febd2(0x104)]=_0x2d082f;const _0x540472={'connectionRetries':0x5};this['proxy']&&(_0x540472[_0x1febd2(0x139)]=new HttpsProxyAgent(this['proxy'])),this['storeSession']=new StoreSession(_0x3436a0),this[_0x1febd2(0x132)]=new TelegramClient(this[_0x1febd2(0x140)],Config['TELEGRAM_APP_ID'],Config['TELEGRAM_APP_HASH'],_0x540472),this[_0x1febd2(0x140)]['save'](),await this['client']['start']({'phoneNumber':async()=>await a3_0x2c6b20[_0x1febd2(0xed)](_0x1febd2(0x102)),'password':async()=>await a3_0x2c6b20['text'](_0x1febd2(0x13c)),'phoneCode':async()=>await a3_0x2c6b20[_0x1febd2(0xed)](_0x1febd2(0x105)),'onError':_0x262ffc=>{const _0x21134f=_0x1febd2;console[_0x21134f(0x134)](_0x262ffc[_0x21134f(0x112)]);}}),console[_0x1febd2(0x134)]();}catch(_0x3bb265){throw _0x3bb265;}}async['resolvePeer'](){const _0x3ce529=a3_0x3188f5;try{a3_0x5bf7e3[_0x3ce529(0x119)](_0x3ce529(0xec)+this[_0x3ce529(0x116)]+'\x20-\x20Resolving\x20Peer');while(this[_0x3ce529(0x117)]==undefined){try{this[_0x3ce529(0x117)]=await this[_0x3ce529(0x132)][_0x3ce529(0x138)](this[_0x3ce529(0x10d)]);break;}catch(_0x43e7f4){if(_0x43e7f4 instanceof FloodWaitError){const _0x5ddd86=_0x43e7f4[_0x3ce529(0x113)];a3_0x5bf7e3[_0x3ce529(0xeb)](this[_0x3ce529(0x132)]['session'][_0x3ce529(0x111)]+'\x20|\x20FloodWait\x20'+_0x43e7f4),a3_0x5bf7e3[_0x3ce529(0x119)](this[_0x3ce529(0x132)][_0x3ce529(0x116)]['serverAddress']+'\x20|\x20Sleep\x20'+_0x5ddd86+'s'),await Helper[_0x3ce529(0x133)]((_0x5ddd86+0x3)*0x3e8);}else throw _0x43e7f4;}}}catch(_0x1433f9){throw _0x1433f9;}}async[a3_0x3188f5(0x13e)](){const _0x6f2ee5=a3_0x3188f5;await this[_0x6f2ee5(0x132)][_0x6f2ee5(0x13e)](),await this[_0x6f2ee5(0x132)]['destroy'](),this['peer']=undefined,this[_0x6f2ee5(0x12a)]=undefined;}async[a3_0x3188f5(0xf3)](){const _0x49c609=a3_0x3188f5;try{const _0x4bae4a=await this['client'][_0x49c609(0xf8)](new Api[(_0x49c609(0x135))][(_0x49c609(0xfe))]({'peer':this[_0x49c609(0x10d)],'app':new Api['InputBotAppShortName']({'botId':await this[_0x49c609(0x132)]['getInputEntity'](this[_0x49c609(0x10d)]),'shortName':'wallet'}),'writeAllowed':!![],'platform':_0x49c609(0xee),'startParam':_0x49c609(0x10e),'compact':!![]}));a3_0x5bf7e3[_0x49c609(0x119)]('Session\x20'+this[_0x49c609(0x116)]+_0x49c609(0x11f));const _0xda3dd=_0x4bae4a['url'];return Helper[_0x49c609(0x136)](_0xda3dd);}catch(_0x28d802){throw _0x28d802;}}}