const a3_0x4b1387=a3_0x44c6;(function(_0x11d116,_0x2a48be){const _0x147f26=a3_0x44c6,_0x5c39a9=_0x11d116();while(!![]){try{const _0x11708f=-parseInt(_0x147f26(0x72))/0x1+parseInt(_0x147f26(0x78))/0x2*(-parseInt(_0x147f26(0x99))/0x3)+-parseInt(_0x147f26(0xa0))/0x4+parseInt(_0x147f26(0x6d))/0x5+-parseInt(_0x147f26(0x86))/0x6*(-parseInt(_0x147f26(0x79))/0x7)+parseInt(_0x147f26(0x8b))/0x8+-parseInt(_0x147f26(0xae))/0x9;if(_0x11708f===_0x2a48be)break;else _0x5c39a9['push'](_0x5c39a9['shift']());}catch(_0x4c20e0){_0x5c39a9['push'](_0x5c39a9['shift']());}}}(a3_0x1cdc,0xcbe91));function a3_0x1cdc(){const _0x8d0468=['24IPbQUV','\x20-\x20Resolving\x20Peer','includes','messages','client','13177976MYwRLa','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','\x20|\x20Sleep\x20','Welcome\x20to\x20Fintopio\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','peer','Invalid\x20input,\x20Please\x20try\x20again','log','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','TELEGRAM_APP_ID','Old\x20Query\x20:\x20','Your\x20Account\x20List\x20:\x0a\x20\x0a','accounts/','accounts','Invalid\x20Input','6eLVfvT','warn','You\x20dont\x20have\x20any\x20Query\x20Account.','onBoarding','disconnect','start','serverAddress','6620760IOjNMf','delay','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','Session\x20','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','queryModificaiton','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','queryCreation','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','getEntity','initWebView','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','save','3089070tLfnVh','TELEGRAM_APP_HASH','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','sessionCreation','proxy','stringify','session','indexOf','seconds','info','saveQueryFile','text','<empty>\x0a','Enter\x20your\x20Telegram\x20Password?','query-','storeSession','bot','RequestWebView','error','\x20|\x20FloodWait\x20','destroy','5495440ONEXcr','android','useSession','accountName','message','813832GjBopL','https://fintopio-tg.fintopio.com/','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','length','accountType','<empty>','136934UAQWac','1816619wsjwKR','createDir','getSession','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','exit','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x20-\x20Webview\x20Connected','Please\x20Enter\x20Telegram\x20Query\x20:\x20','resolvePeer','invoke','url','Query\x20','\x20-\x20Created'];a3_0x1cdc=function(){return _0x8d0468;};return a3_0x1cdc();}import a3_0x2628a4 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x31e651 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a3_0x44c6(_0x1e001f,_0x380bc2){const _0x1cdc51=a3_0x1cdc();return a3_0x44c6=function(_0x44c62f,_0x1b2a3b){_0x44c62f=_0x44c62f-0x6d;let _0x1684b9=_0x1cdc51[_0x44c62f];return _0x1684b9;},a3_0x44c6(_0x1e001f,_0x380bc2);}import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x3d52a4=a3_0x44c6;this['accountName']=_0x3d52a4(0x97),this[_0x3d52a4(0x83)]=_0x3d52a4(0x73),this[_0x3d52a4(0xbe)]='fintopio';}async['init'](){const _0x354167=a3_0x44c6;try{await this['onBoarding']();}catch(_0x3a4dab){console[_0x354167(0x91)](_0x3a4dab),a3_0x31e651[_0x354167(0xc0)](''+JSON[_0x354167(0xb3)](_0x3a4dab));throw _0x3a4dab;}}async[a3_0x4b1387(0x9c)](){const _0x4bcbf2=a3_0x4b1387;try{let _0x586c43=_0x4bcbf2(0x8e);const _0x5b1573=Helper['getSession']('accounts');if(_0x5b1573[_0x4bcbf2(0x75)]==0x0)_0x586c43+=_0x4bcbf2(0x77);else for(const _0x374bc2 of _0x5b1573){_0x586c43+='-\x20'+_0x374bc2+'\x0a';}_0x586c43+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x586c43+=_0x4bcbf2(0x92);const _0x294282=await a3_0x2628a4[_0x4bcbf2(0xb9)](_0x586c43);if(_0x294282==0x1)await this[_0x4bcbf2(0x76)]();else{if(_0x294282==0x2)Helper['resetAccounts'](),await Helper[_0x4bcbf2(0xa1)](0xbb8),await this['onBoarding']();else{if(_0x294282==0x3)Helper['getSession'](this[_0x4bcbf2(0x70)])?.[_0x4bcbf2(0x75)]==0x0&&(console['info']('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this['onBoarding']());else _0x294282==0x4?await this[_0x4bcbf2(0xa5)]():(console[_0x4bcbf2(0xc0)](_0x4bcbf2(0x90)),await this[_0x4bcbf2(0x9c)]());}}}catch(_0x20c56e){throw _0x20c56e;}}async[a3_0x4b1387(0xa5)](){const _0x3ee8a8=a3_0x4b1387;try{const _0x7ba930=Helper['getSession']('accounts'),_0x413ea9=_0x7ba930['filter'](_0x387fb1=>_0x387fb1[_0x3ee8a8(0x88)]('query'));let _0x246ea2=_0x3ee8a8(0x74);for(const _0x53d4bf of _0x413ea9){_0x246ea2+=_0x7ba930[_0x3ee8a8(0xb5)](_0x53d4bf)+0x1+'.\x20'+_0x53d4bf+'\x0a';}_0x413ea9[_0x3ee8a8(0x75)]==0x0?(console[_0x3ee8a8(0x91)](_0x3ee8a8(0x9b)),await this[_0x3ee8a8(0x9c)]()):_0x246ea2+=_0x3ee8a8(0xb0);const _0x812ba5=await a3_0x2628a4['text'](_0x246ea2);if(_0x413ea9[_0x812ba5-0x1]!=undefined){const _0x4fd3a2=_0x413ea9[_0x812ba5-0x1];this[_0x3ee8a8(0x70)]=_0x3ee8a8(0x96)+_0x4fd3a2;const _0x121b7c=_0x3ee8a8(0x94)+Helper['readQueryFile'](this[_0x3ee8a8(0x70)]+'/query.txt')+_0x3ee8a8(0x8c),_0x18128b=await a3_0x2628a4[_0x3ee8a8(0xb9)](_0x121b7c);await Helper[_0x3ee8a8(0xb8)](this[_0x3ee8a8(0x70)],_0x18128b),await Helper[_0x3ee8a8(0xa1)](0xbb8),await this['onBoarding']();}else console[_0x3ee8a8(0xc0)](_0x3ee8a8(0x90)),await this[_0x3ee8a8(0xa5)]();}catch(_0x36c647){throw _0x36c647;}}async[a3_0x4b1387(0xb1)](){const _0x4fdf70=a3_0x4b1387;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x4fdf70(0xaf)]==undefined)throw new Error(_0x4fdf70(0x7c));const _0x5f1783=Helper[_0x4fdf70(0x7b)]('accounts');let _0x556a5e='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x5c58b9 of _0x5f1783){_0x556a5e+=_0x5f1783[_0x4fdf70(0xb5)](_0x5c58b9)+0x1+'.\x20'+_0x5c58b9+'\x0a';}_0x5f1783[_0x4fdf70(0x75)]==0x0?_0x556a5e+=_0x4fdf70(0xa6):_0x556a5e+=_0x4fdf70(0xa2);const _0xb2bee2=await a3_0x2628a4[_0x4fdf70(0xb9)](_0x556a5e);this[_0x4fdf70(0x70)]=Helper[_0x4fdf70(0x7a)]('sessions-'+_0xb2bee2),await this['useSession'](this['accountName']),await this[_0x4fdf70(0x9d)](),a3_0x31e651[_0x4fdf70(0xb7)](_0x4fdf70(0xa3)+this[_0x4fdf70(0x70)]+_0x4fdf70(0x85)),console[_0x4fdf70(0x91)]('Session\x20'+_0xb2bee2+_0x4fdf70(0xa4)),this[_0x4fdf70(0xbd)][_0x4fdf70(0xad)](),await Helper[_0x4fdf70(0xa1)](0xbb8),process['exit']();}catch(_0x50ddd0){throw _0x50ddd0;}}async[a3_0x4b1387(0xa8)](){const _0x4be3d1=a3_0x4b1387;try{const _0x43daf0=Helper[_0x4be3d1(0x7b)](_0x4be3d1(0x97));let _0x23987d=_0x4be3d1(0x95);for(const _0x20b9fa of _0x43daf0){_0x23987d+=_0x43daf0[_0x4be3d1(0xb5)](_0x20b9fa)+0x1+'.\x20'+_0x20b9fa+'\x0a';}_0x43daf0['length']==0x0?_0x23987d+=_0x4be3d1(0xa7):_0x23987d+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x2b8981=await a3_0x2628a4[_0x4be3d1(0xb9)](_0x23987d);this[_0x4be3d1(0x70)]=Helper[_0x4be3d1(0x7a)](_0x4be3d1(0xbc)+_0x2b8981);let _0x3fb3b3=_0x4be3d1(0x80);const _0xfa8185=await a3_0x2628a4[_0x4be3d1(0xb9)](_0x3fb3b3);await Helper[_0x4be3d1(0xb8)](this['accountName'],_0xfa8185),a3_0x31e651[_0x4be3d1(0xb7)](_0x4be3d1(0x84)+this['accountName']+'\x20-\x20Created'),console['log'](_0x4be3d1(0x84)+_0x2b8981+_0x4be3d1(0xa4)),await Helper[_0x4be3d1(0xa1)](0xbb8),process[_0x4be3d1(0x7d)]();}catch(_0x41cc65){throw _0x41cc65;}}async[a3_0x4b1387(0x76)](){const _0x24e564=a3_0x4b1387;try{const _0x1366ad=Helper[_0x24e564(0x7b)](_0x24e564(0x97));let _0x3edf06=_0x24e564(0x95);if(_0x1366ad[_0x24e564(0x75)]>0x0)for(const _0x4d4b7f of _0x1366ad){_0x3edf06+=_0x1366ad[_0x24e564(0xb5)](_0x4d4b7f)+0x1+'.\x20'+_0x4d4b7f+'\x0a';}else _0x3edf06+=_0x24e564(0xba);_0x3edf06+=_0x24e564(0x7e);const _0x202ea6=await a3_0x2628a4['text'](_0x3edf06);if(_0x202ea6==0x1)await this[_0x24e564(0xb1)]();else _0x202ea6==0x2?await this[_0x24e564(0xa8)]():(console[_0x24e564(0x91)](_0x24e564(0x98)),await this[_0x24e564(0x76)]());}catch(_0x4d8b0e){throw _0x4d8b0e;}}async[a3_0x4b1387(0x6f)](_0x5e1454,_0x1368df){const _0x115e8f=a3_0x4b1387;try{this[_0x115e8f(0xb2)]=_0x1368df;const _0x5368a7={'connectionRetries':0x5};this[_0x115e8f(0xb2)]&&(_0x5368a7['agent']=new HttpsProxyAgent(this[_0x115e8f(0xb2)])),this[_0x115e8f(0xbd)]=new StoreSession(_0x5e1454),this[_0x115e8f(0x8a)]=new TelegramClient(this[_0x115e8f(0xbd)],Config[_0x115e8f(0x93)],Config['TELEGRAM_APP_HASH'],_0x5368a7),this[_0x115e8f(0xbd)]['save'](),await this[_0x115e8f(0x8a)][_0x115e8f(0x9e)]({'phoneNumber':async()=>await a3_0x2628a4['text'](_0x115e8f(0xac)),'password':async()=>await a3_0x2628a4[_0x115e8f(0xb9)](_0x115e8f(0xbb)),'phoneCode':async()=>await a3_0x2628a4[_0x115e8f(0xb9)](_0x115e8f(0xa9)),'onError':_0x4b2ce1=>{const _0x329391=_0x115e8f;console[_0x329391(0x91)](_0x4b2ce1[_0x329391(0x71)]);}}),console[_0x115e8f(0x91)]();}catch(_0x57f245){throw _0x57f245;}}async[a3_0x4b1387(0x81)](){const _0x55c944=a3_0x4b1387;try{a3_0x31e651[_0x55c944(0xb7)](_0x55c944(0xa3)+this['session']+_0x55c944(0x87));while(this[_0x55c944(0x8f)]==undefined){try{this[_0x55c944(0x8f)]=await this['client'][_0x55c944(0xaa)](this[_0x55c944(0xbe)]);break;}catch(_0x48682a){if(_0x48682a instanceof FloodWaitError){const _0xa7040f=_0x48682a[_0x55c944(0xb6)];a3_0x31e651[_0x55c944(0x9a)](this[_0x55c944(0x8a)][_0x55c944(0xb4)][_0x55c944(0x9f)]+_0x55c944(0xc1)+_0x48682a),a3_0x31e651['info'](this['client'][_0x55c944(0xb4)]['serverAddress']+_0x55c944(0x8d)+_0xa7040f+'s'),await Helper[_0x55c944(0xa1)]((_0xa7040f+0x3)*0x3e8);}else throw _0x48682a;}}}catch(_0x22486a){throw _0x22486a;}}async[a3_0x4b1387(0x9d)](){const _0x2e7b64=a3_0x4b1387;await this[_0x2e7b64(0x8a)]['disconnect'](),await this[_0x2e7b64(0x8a)][_0x2e7b64(0xc2)](),this[_0x2e7b64(0x8f)]=undefined,this[_0x2e7b64(0x70)]=undefined;}async[a3_0x4b1387(0xab)](){const _0x198a9d=a3_0x4b1387;try{const _0x2388d6=await this[_0x198a9d(0x8a)][_0x198a9d(0x82)](new Api[(_0x198a9d(0x89))][(_0x198a9d(0xbf))]({'peer':this['peer'],'bot':this[_0x198a9d(0x8f)],'fromBotMenu':!![],'url':this[_0x198a9d(0x83)],'platform':_0x198a9d(0x6e)}));a3_0x31e651[_0x198a9d(0xb7)](_0x198a9d(0xa3)+this['session']+_0x198a9d(0x7f));const _0x4dd664=_0x2388d6[_0x198a9d(0x83)];return Helper['getTelegramQuery'](_0x4dd664,0x3);}catch(_0x215235){throw _0x215235;}}}